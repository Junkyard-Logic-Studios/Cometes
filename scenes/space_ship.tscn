[gd_scene load_steps=12 format=3 uid="uid://dk7b0mdcmcarn"]

[ext_resource type="Script" path="res://scripts/space_ship.gd" id="1_fjdmo"]
[ext_resource type="PackedScene" uid="uid://c1vc63d2q2sos" path="res://scenes/laser.tscn" id="2_v8ax5"]
[ext_resource type="ArrayMesh" uid="uid://b2pd1v64yb0au" path="res://models/Spacecraft_comete.obj" id="3_r6kpr"]
[ext_resource type="PackedScene" uid="uid://crbv1xffhd0yp" path="res://scenes/space_mesh.tscn" id="4_m860h"]

[sub_resource type="SphereShape3D" id="SphereShape3D_1jysm"]
radius = 0.599621

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_6x2pn"]
albedo_color = Color(0, 0.666667, 0.607843, 1)

[sub_resource type="SystemFont" id="SystemFont_l6550"]
subpixel_positioning = 0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jt1wo"]
shading_mode = 0

[sub_resource type="TextMesh" id="TextMesh_mvq2w"]
material = SubResource("StandardMaterial3D_jt1wo")
text = "HP

"
font = SubResource("SystemFont_l6550")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_wkeri"]
shading_mode = 0

[sub_resource type="TextMesh" id="TextMesh_jra8k"]
material = SubResource("StandardMaterial3D_wkeri")
text = "100
"

[node name="SpaceShip" type="CharacterBody3D"]
motion_mode = 1
script = ExtResource("1_fjdmo")
laser_scene = ExtResource("2_v8ax5")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.0602649)
shape = SubResource("SphereShape3D_1jysm")

[node name="Pivot" type="Node3D" parent="."]

[node name="Camera3D" type="Camera3D" parent="Pivot"]
transform = Transform3D(-1, 3.24475e-14, 8.74228e-08, 2.26267e-08, 0.965926, 0.258819, -8.44439e-08, 0.258819, -0.965926, 0, 1.38392, -4.33)

[node name="SpacecraftComete" type="MeshInstance3D" parent="Pivot"]
transform = Transform3D(-3.49691e-09, 0, -0.08, 0, 0.08, 0, 0.08, 0, -3.49691e-09, 0.004, -0.73, 0.3)
material_override = SubResource("StandardMaterial3D_6x2pn")
gi_mode = 2
mesh = ExtResource("3_r6kpr")
skeleton = NodePath("../..")

[node name="SpaceMesh" parent="Pivot" instance=ExtResource("4_m860h")]
transform = Transform3D(-3.49691e-09, 0, -0.08, 0, 0.08, 0, 0.08, 0, -3.49691e-09, 0.004, -0.73, 0.3)
mesh = ExtResource("3_r6kpr")
color = Color(0, 0.66758, 0.608489, 1)

[node name="UI" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0312259, -0.258885, -0.565734)

[node name="Hp_Display" type="MeshInstance3D" parent="UI"]
transform = Transform3D(-1, 0, -8.74228e-08, -4.37114e-08, 0.866025, 0.5, 7.57103e-08, 0.5, -0.866025, -0.00348926, 0.897804, -0.254664)
cast_shadow = 0
mesh = SubResource("TextMesh_mvq2w")

[node name="Hp_Text" type="MeshInstance3D" parent="UI"]
transform = Transform3D(-1, 4.37114e-08, 7.57103e-08, 7.57103e-08, 0.866025, 0.5, -4.37114e-08, 0.5, -0.866025, 0, 0.805231, -0.362548)
cast_shadow = 0
mesh = SubResource("TextMesh_jra8k")

[node name="Gun" type="Node3D" parent="."]

[node name="SpawnPoint" type="Marker3D" parent="Gun"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1.5)

[node name="FiringTimer" type="Timer" parent="Gun"]
wait_time = 0.25

[connection signal="timeout" from="Gun/FiringTimer" to="." method="_on_firing_timer_timeout"]
[connection signal="timeout" from="Gun/FiringTimer" to="." method="OnFiringTimerTimeout"]
